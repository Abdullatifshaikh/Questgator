{% extends 'base.html' %}
{% block content %}
{% load static %}
        
    <!-- base and statics -->
    <nav id="navbar" class="navbar">
        <ul>
          <li><a class="nav-link scrollto " href="{%url 'home'%}">Home</a></li>
          <li><a class="nav-link scrollto active" href="/">Services</a></li>
          <li><a class="getstarted scrollto" href="#">Subscribe</a></li>
        </ul>
        <i class="bi bi-list mobile-nav-toggle"></i>
      </nav><!-- .navbar -->
      </div><!-- End Header Container -->
    </div>
  </header><!-- End Header -->


  <style>
    .lets_change [class*="col-"]{
    margin-bottom: -99999px;
    padding-bottom: 99999px;
  }
  
  .lets_change{
    overflow: hidden; 
  }
  .container-fluid {
  margin-top:10px;
}

.card {
	background-color: #eeeeee;
	border: 0px solid;
	border-radius: 0;
	margin-left:5px !important;
	margin-right:5px !important;
	margin-bottom: 10px !important;
}

.card-group {
	display: flex;
	width: 100%;
}

.card-block {
	flex: 1 1 auto;
  padding:10px;
}


.modal button.close {
    z-index: 1000;
}
.modal-content{
  color: transparent;
}
.modal {
  width: 100%;
  color: transparent;
}
.modal-dialog {
    max-width:max-content !important;
    padding-top: 8%;
    
    
}
.card-text__events {
    padding-bottom: 50px;
}



.card-footer__events {
    position: absolute;
    bottom: 0;
    left:0;
    width: 100%;
}
    </style>

  <!--New Section -->

  <!-- ======= Breadcrumbs ======= -->
  <section id="breadcrumbs" class="breadcrumbs">
    <div class="container">

      <div class="d-flex justify-content-between align-items-center">
        <h2>Video Search</h2>
        <ol>
          <li><a href="/">Home/Services</a></li>
          <li>Video Search</li>
        </ol>
      </div>
    </div>
  </section><!-- End Breadcrumbs -->
  
  <!-- search engine -->
  <footer  id="footer">
    <div class="footer-top">
      <div class="container">
        <div class="row">

          <div class="col-lg-12 col-md-6 footer-newsletter">
            <form action="" method="GET">
              <input style="border: none; text-align: center; " size="120" type="text" name="query"><input type="submit" value="Search">
            </form>
          </div>

        </div>
      </div>
    </div>

  </footer>

    <!-- ======= Services Section ======= -->
    
    <section id="services" class="services section-bg">
      <div class="container">
        {% if msg %}
        <h3>--  {{msg}}  --</h3>
        {% endif%}
        <!--
          new card start here
        -->

        <div class="container-fluid">
          <div class="row">
            <div class="col-md-12">
                <h2>This part is underconstruction plz stop the video before proceding.</h2>
            </div>
        
     
            {% if results %}   
              {% for i,j in results.items %} 
              <div class="card card--lightBg" style="width: 18rem; margin:20px; padding:15px">
                  <div class="card-block">
                      <img class="card-img-top" src="{{j.thumb}}" alt="Card image cap"/>
                      <br/> <br/> 
                      <p class="card-text card-text__events">{{j.title}}</p>

                      <div class="card-footer card-footer__events text-muted">
                        <button type="button" class="btn" data-bs-toggle="modal" data-bs-target="#videoModal" src="{{j.url}}" onclick="open_click('{{j.url}}');" id='myBtn'>Play > </button>
                      </div>
                  </div>
              </div>
              {% endfor %} 
            {% endif %}  
          </div>  
        </div>

        <!-- Modal -->
          <!-- Modal -->
              <div class="modal fade"  id="videoModal" tabindex="-1" role="dialog" data-backdrop="static">
                <div class="modal-dialog" role="document">
                  <div class="modal-body">
                    <div class="modal-content" style="background-size: contain;">
                      <!-- 16:9 aspect ratio -->

                      <button type="button" class="btn" onclick="close_me();" style="color: red; size: 5px;" ty aria-label="Close"> X/Close </button>
                      <iframe width='853px' height=' 505px' class="embed-responsive-item" src="" id="video"  allowscriptaccess="always" ></iframe>
                  
                    </div>
                  </div>   
                  
                </div>
              </div> 



        <!--
          ends here
        -->
        
        </div>
    </section><!-- End Services Section -->


<script>

var player = new YT.Player('video', {
        events: {
            'onReady': onPlayerReady
        }});

function open_click($src) {
  
  document.getElementById("video").src=$src;
  //alert($src)
  $("#videoModal").modal('show');
  
   // The function returns the product of p1 and p2
}

$("#videoModal").on('hide.bs.modal', function(){
     setTimeout(function(){
    $("#video").remove()
    });    
});




function close_me() {
  location.reload();
  
}

// this function gets called when API is ready to use

// Inject YouTube API script
var tag = document.createElement('script');
tag.src = "https://www.youtube.com/player_api";
var firstScriptTag = document.getElementsByTagName('script')[0];
firstScriptTag.parentNode.insertBefore(tag, firstScriptTag);
</script>
  



  </main><!-- End #main -->

  <!-- ======= Footer ======= -->
  <footer id="footer">

    <div class="footer-top">
      <div class="container">
        <div class="row">

          <div class="col-lg-3 col-md-6 footer-contact">
            <h3>QuestGator</h3>
            <p>
              QUEST Nawabshah <br>
              Sindh, Pakistan<br><br>
              <strong>Phone:</strong> +92 3055521792 <br>
              <strong>Email:</strong> 18cs21@quest.edu.pk  <br>
            </p>
          </div>

          <div class="col-lg-2 col-md-6 footer-links">
            <h4>Useful Links</h4>
            <ul>
              <li><i class="bx bx-chevron-right"></i> <a href="#">Home</a></li>
              <li><i class="bx bx-chevron-right"></i> <a href="#about">About us</a></li>
              <li><i class="bx bx-chevron-right"></i> <a href="#services">Services</a></li>
              <li><i class="bx bx-chevron-right"></i> <a href="#contact">Contacts</a></li>
            </ul>
          </div>

          <div class="col-lg-3 col-md-6 footer-links">
            <h4>Our Services</h4>
            <ul>
              
              <li><i class="bx bx-chevron-right"></i> <a href="#">Seach Engine</a></li>
              <li><i class="bx bx-chevron-right"></i> <a href="#">News</a></li>
              <li><i class="bx bx-chevron-right"></i> <a href="#">Books</a></li>
              <li><i class="bx bx-chevron-right"></i> <a href="#">Scholarships</a></li>
              <li><i class="bx bx-chevron-right"></i> <a href="#">Jobs</a></li>
            </ul>
          </div>

          <div class="col-lg-4 col-md-6 footer-newsletter">
            <h4>Join Our Newsletter</h4>
            <p>Subscribe our website for more updates and information.</p>
            <form action="" method="post">
              <input type="email" name="email"><input type="submit" value="Subscribe">
            </form>
          </div>

        </div>
      </div>
    </div>

    <div class="container d-md-flex py-4">

      <div class="me-md-auto text-center text-md-start">
        <div class="copyright">
          &copy; Copyright <strong><span>QuestGator</span></strong>. All Rights Reserved
        </div>
       
      </div>
      <div class="social-links text-center text-md-right pt-3 pt-md-0">
        <a href="#" class="twitter"><i class="bx bxl-twitter"></i></a>
        <a href="#" class="facebook"><i class="bx bxl-facebook"></i></a>
        <a href="#" class="instagram"><i class="bx bxl-instagram"></i></a>
        <a href="#" class="google-plus"><i class="bx bxl-skype"></i></a>
        <a href="#" class="linkedin"><i class="bx bxl-linkedin"></i></a>
      </div>
    </div>
  </footer><!-- End Footer -->

  <a href="#" class="back-to-top d-flex align-items-center justify-content-center"><i class="bi bi-arrow-up-short"></i></a>



  {% endblock content %}